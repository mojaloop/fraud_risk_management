swagger: "2.0"
info:
  title: "Swagger Example"
  description: >
    FRM transaction validation.
  version: "0.1.0"
schemes:
  - "http"
paths:
  /:
    get:
      summary: "Check the status of the service"
      description: "If the service is up and running correctly the response will be 'UP'"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Health"
        500:
          $ref: "#/responses/500"
  /health:
    get:
      summary: "Check the status of the service"
      description: "If the service is up and running correctly the response will be 'UP'"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Health"
        500:
          $ref: "#/responses/500"
  /execute:
    post:
      summary: "Monitor Quote Transaction"
      description: "ISO20022 pain.001.001.11 formatted message expected. Historically Mojaloop Quote message."
      consumes:
        - "application/json"
      produces:
        - "application/json"
      parameters:
        - in: "body"
          name: "body"
          description: "Validates request params"
          required: true
          schema:
            $ref: "#/definitions/CustomerCreditTransferInitiationV11"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/TransactionResponse"
        400:
          $ref: "#/responses/400"
        401:
          $ref: "#/responses/401"
        500:
          $ref: "#/responses/500"
  /transfers:
    post:
      summary: 'Transfer'
      description: 'ISO20022 pacs.008.001.10 formatted message expected. Historically Mojaloop Transfer message.'
      consumes:
        - 'application/json'
      produces:
        - 'application/json'
      parameters:
        - in: 'body'
          name: 'body'
          description: 'Validates request params'
          required: true
          schema:
            $ref: "#/definitions/FIToFICustomerCreditTransferV10"
      responses:
        200:
          description: 'successful operation'
          schema:
            $ref: '#/definitions/TransactionResponse'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        500:
          $ref: '#/responses/500'

responses:
  400:
    description: Bad Request
    schema:
      $ref: '#/definitions/Error'
  401:
    description: Unauthorized
    schema:
      $ref: '#/definitions/Error'
  500:
    description: Internal Server Error
    schema:
      $ref: '#/definitions/Error'

definitions:
  Health:
    type: 'object'
    properties:
      status:
        type: 'string'
        enum:
          - 'UP'
          - 'DOWN'
  TransactionResponse:
    type: "object"
    properties:
      data:
        type: "object"
        properties:
          result:
            type: "string"
            example: "Transaction is valid"
  FIToFICustomerCreditTransferV10:
    type: 'object'
    required:
      - GroupHeader
      - CreditTransferTransactionInformation
    properties:
      GroupHeader:
        type: 'object'
        properties: 
          PaymentIdentification: 
            type: object
            properties: 
              InstructionIdentification: 
                type: string
                maxlength: 35
              EndToEndIdentification: 
                type: string
                maxlength: 35
          InterbankSettlementAmount: 
            type: object
            properties: 
              Amount: 
                type: integer
                format: int32
              Currency: 
                type: string
          InstructedAmount: 
            type: object
            properties: 
              Amount: 
                type: integer
                format: int32
              Currency: 
                type: string
          ChargeBearer: 
            type: string
          Charges: 
            type: array
            items:
              type: object
              properties: 
                Amount: 
                  type: integer
                  format: int32
                Currency: 
                  type: string

          InitiatingParty: 
            type: object
            properties: 
              Name: 
                type: string
              Identification: 
                type: object
                properties: 
                  PrivateIdentification: 
                    type: object
                    properties: 
                      DateAndPlaceOfBirth: 
                        type: object
                        properties: 
                          BirthDate: 
                            type: string
                      Other: 
                        type: object
                        properties: 
                          Identification: 
                            type: string
                          SchemeName: 
                            type: object
                            properties: 
                              Proprietary: 
                                type: string
              ContactDetails: 
                type: object
                properties: 
                  MobileNumber: 
                    type: string
          Debtor: 
            type: object
            properties: 
              Name: 
                type: string
              Identification: 
                type: object
                properties: 
                  PrivateIdentification: 
                    type: object
                    properties: 
                      DateAndPlaceOfBirth: 
                        type: object
                        properties: 
                          BirthDate: 
                            type: string
                      Other: 
                        type: object
                        properties: 
                          Identification: 
                            type: string
                          SchemeName: 
                            type: object
                            properties: 
                              Proprietary: 
                                type: string
              ContactDetails: 
                type: object
                properties: 
                  MobileNumber: 
                    type: string
          DebtorAccount: 
            type: object
            properties: 
              Name: 
                type: string
              Identification: 
                type: object
                properties: 
                  PrivateIdentification: 
                    type: object
                    properties: 
                      DateAndPlaceOfBirth: 
                        type: object
                        properties: 
                          BirthDate: 
                            type: string
                      Other: 
                        type: object
                        properties: 
                          Identification: 
                            type: string
                          SchemeName: 
                            type: object
                            properties: 
                              Proprietary: 
                                type: string
              ContactDetails: 
                type: object
                properties: 
                  MobileNumber: 
                    type: string
          DebtorAgent: 
            type: object
            properties: 
              FinancialInstitutionIdentification: 
                type: object
                properties: 
                  ClearingSystemMemberIdentification: 
                    type: object
                    properties: 
                      MemberIdentification: 
                        type: string
                        maxlength: 35
          CreditorAgent: 
            type: object
            properties: 
              FinancialInstitutionIdentification: 
                type: object
                properties: 
                  ClearingSystemMemberIdentification: 
                    type: object
                    properties: 
                      MemberIdentification: 
                        type: string
                        maxlength: 35
          Creditor: 
            type: object
            properties: 
              Name: 
                type: string
              Identification: 
                type: object
                properties: 
                  PrivateIdentification: 
                    type: object
                    properties: 
                      DateAndPlaceOfBirth: 
                        type: object
                        properties: 
                          BirthDate: 
                            type: string
                      Other: 
                        type: object
                        properties: 
                          Identification: 
                            type: string
                          SchemeName: 
                            type: object
                            properties: 
                              Proprietary: 
                                type: string
              ContactDetails: 
                type: object
                properties: 
                  MobileNumber: 
                    type: string
          CreditorAccount: 
            type: object
            properties: 
              Name: 
                type: string
              Identification: 
                type: object
                properties: 
                  PrivateIdentification: 
                    type: object
                    properties: 
                      DateAndPlaceOfBirth: 
                        type: object
                        properties: 
                          BirthDate: 
                            type: string
                      Other: 
                        type: object
                        properties: 
                          Identification: 
                            type: string
                          SchemeName: 
                            type: object
                            properties: 
                              Proprietary: 
                                type: string
              ContactDetails: 
                type: object
                properties: 
                  MobileNumber: 
                    type: string
          Purpose: 
            type: object
            properties: 
              Code: 
                type: string
          SupplementaryData: 
            type: object
          RegulatoryReporting: 
            type: object
            properties: 
              DebitCreditReportingIndicator: 
                type: string
              Details: 
                type: object
                properties: 
                  Type: 
                    type: string
                  Code: 
                    type: string
          RemittanceInformation: 
            type: object
            properties: 
              RemittanceInformation: 
                type: string
      CreditTransferTransactionInformation:
        type: 'object'
        properties: 
          MessageIdentification: 
            type: string
          CreationDateTime: 
            type: string
          NumberOfTransactions: 
            type: integer
            format: int32
          SettlementInformation: 
            type: object
            properties: 
              SettlementMethod: 
                type: string

  CustomerCreditTransferInitiationV11:
    type: object
    properties:
      GroupHeader:
        $ref: '#/definitions/GroupHeader'
      PaymentInformation:
        $ref: '#/definitions/PaymentInformation'
      SupplementaryData:
        $ref: '#/definitions/SupplementaryData'
    required:
      - GroupHeader
      - PaymentInformation
  PaymentInformation:
    type: object
    properties:
      PaymentInformationIdentification:
        type: string
        maxLength: 35
      CreditTransferTransactionInformation:
        type: object
        properties:
          PaymentIdentification:
            type: object
            properties:
              EndToEndIdentification:
                type: string
                maxLength: 35
            required:
              - EndToEndIdentification
          CreditorAccount:
            type: object
            properties:
              Identification:
                type: object
                properties:
                  Identification:
                    type: string
                  Other:
                    type: object
                    properties:
                      Identification:
                        type: string
                        maxLength: 34
                      SchemeName:
                        type: object
                        properties:
                          Proprietary:
                            type: string
                            maxLength: 35
                        required:
                          - Proprietary
                      PrivateIdentification:
                        type: object
                        properties:
                          DateAndPlaceOfBirth:
                            type: object
                            properties:
                              Birthdate:
                                type: string
                      ContactDetails:
                        type: object
                        properties:
                          MobileNumber:
                            type: string
                    required:
                      - Identification
                  SchemeName:
                    type: object
                    properties:
                      Proprietary:
                        type: string
                        maxLength: 35
                    required:
                      - Proprietary
                  PrivateIdentification:
                    type: object
                    properties:
                      DateAndPlaceOfBirth:
                        type: object
                        properties:
                          Birthdate:
                            type: string
                  ContactDetails:
                    type: object
                    properties:
                      MobileNumber:
                        type: string
              Proxy:
                type: string
              Name:
                type: string
          CreditorAgent:
            type: object
            properties:
              FinancialInstitutionIdentification:
                type: object
                properties:
                  ClearingSystemMemberIdentification:
                    type: object
                    properties:
                      MemberIdentification:
                        type: string
                        maxLength: 35
                    required:
                      - MemberIdentification
          Creditor:
            type: object
            properties:
              Name:
                type: string
                maxLength: 140
              Identification:
                type: object
                properties:
                  Identification:
                    type: string
                  Other:
                    type: object
                    properties:
                      Identification:
                        type: string
                      SchemeName:
                        type: object
                        properties:
                          Proprietary:
                            type: string
                            maxLength: 35
                        required:
                          - Proprietary
                      PrivateIdentification:
                        type: object
                        properties:
                          DateAndPlaceOfBirth:
                            type: object
                            properties:
                              Birthdate:
                                type: string
                                format: date
                              ProvinceOfBirth:
                                type: string
                              CityOfBirth:
                                type: string
                                maxLength: 35
                              CountryOfBirth:
                                type: string
                                pattern: '[A-Z]{2,2}'
                            required:
                              - Birthdate
                              - CityOfBirth
                              - CountryOfBirth
                      ContactDetails:
                        type: object
                        properties:
                          MobileNumber:
                            type: string
                  SchemeName:
                    type: object
                    properties:
                      Proprietary:
                        type: string
                        maxLength: 35
                    required:
                      - Proprietary
                  PrivateIdentification:
                    type: object
                    properties:
                      DateAndPlaceOfBirth:
                        type: object
                        properties:
                          Birthdate:
                            type: string
                  ContactDetails:
                    type: object
                    properties:
                      MobileNumber:
                        type: string
          Amount:
            type: object
            properties:
              InstructedAmount:
                type: object
              EquivalentAmount:
                type: object
                properties:
                  CurrencyOfTransfer:
                    type: string
                    pattern: '[A-Z]{3,3}'
                  Amount:
                    type: number
                    format: float
                    minimum: 0
                    exclusiveMinimum: true
                required:
                  - CurrencyOfTransfer
                  - Amount
          SupplementaryData:
            type: object
            properties:
              fees.currency:
                type: string
              fees.amount:
                type: number
                format: float
                minimum: 0
          PaymentTypeInformation:
            type: object
            properties:
              CategoryPurpose:
                type: object
                properties:
                  Proprietary:
                    type: string
                    maxLength: 35
                required:
                  - Proprietary
          RegulatoryReporting:
            type: object
            properties:
              Details:
                type: object
                properties:
                  Code:
                    type: string
                    maxLength: 10
          RemittanceInformation:
            type: object
            properties:
              Structured:
                type: object
                properties:
                  AdditionalRemittanceInformation:
                    type: string
                    maxLength: 140
      DebtorAccount:
        type: object
        properties:
          Identification:
            type: object
            properties:
              Identification:
                type: string
              Other:
                type: object
                properties:
                  Identification:
                    type: string
                    maxLength: 34
                  SchemeName:
                    type: object
                    properties:
                      Proprietary:
                        type: string
                        maxLength: 35
                    required:
                      - Proprietary
                  PrivateIdentification:
                    type: object
                    properties:
                      DateAndPlaceOfBirth:
                        type: object
                        properties:
                          Birthdate:
                            type: string
                  ContactDetails:
                    type: object
                    properties:
                      MobileNumber:
                        type: string
              SchemeName:
                type: object
                properties:
                  Proprietary:
                    type: string
                    maxLength: 35
                required:
                  - Proprietary
              PrivateIdentification:
                type: object
                properties:
                  DateAndPlaceOfBirth:
                    type: object
                    properties:
                      Birthdate:
                        type: string
              ContactDetails:
                type: object
                properties:
                  MobileNumber:
                    type: string
            required:
              - Identification
          Proxy:
            type: string
          Name:
            type: string
            maxLength: 140
      DebtorAgent:
        type: object
        properties:
          FinancialInstitutionIdentification:
            type: object
            properties:
              ClearingSystemMemberIdentification:
                type: object
                properties:
                  MemberIdentification:
                    type: string
                    maxLength: 35
                required:
                  - MemberIdentification
      Debtor:
        type: object
        properties:
          Name:
            type: string
            maxLength: 140
          Identification:
            type: object
            properties:
              Identification:
                type: string
              Other:
                type: object
                properties:
                  Identification:
                    type: string
                  SchemeName:
                    type: object
                    properties:
                      Proprietary:
                        type: string
                        maxLength: 35
                    required:
                      - Proprietary
                  PrivateIdentification:
                    type: object
                    properties:
                      DateAndPlaceOfBirth:
                        type: object
                        properties:
                          Birthdate:
                            type: string
                  ContactDetails:
                    type: object
                    properties:
                      MobileNumber:
                        type: string
              SchemeName:
                type: object
                properties:
                  Proprietary:
                    type: string
                    maxLength: 35
                required:
                  - Proprietary
              PrivateIdentification:
                type: object
                properties:
                  DateAndPlaceOfBirth:
                    type: object
                    properties:
                      Birthdate:
                        type: string
                        format: date
                      ProvinceOfBirth:
                        type: string
                      CityOfBirth:
                        type: string
                        maxLength: 35
                      CountryOfBirth:
                        type: string
                        pattern: '[A-Z]{2,2}'
                    required:
                      - Birthdate
                      - CityOfBirth
                      - CountryOfBirth
              ContactDetails:
                type: object
                properties:
                  MobileNumber:
                    type: string
    required:
      - PaymentInformationIdentification
      - CreditTransferTransactionInformation
      - DebtorAccount
      - DebtorAgent
      - Debtor
  SupplementaryData:
    type: object
    properties:
      payee.merchantClassificationCode:
        type: string
      payer.merchantClassificationCode:
        type: string
      transactionType.initiatorType:
        type: string
      geoCode.latitude:
        type: string
      geoCode.longitude:
        type: string
  GroupHeader:
    type: object
    properties:
      InitiatingParty:
        type: object
        properties:
          Name:
            type: string
            maxLength: 140
          Identification:
            type: object
            properties:
              Identification:
                type: string
              Other:
                type: object
                properties:
                  Identification:
                    type: string
                    maxlength: 35
                  SchemeName:
                    type: object
                    properties:
                      Proprietary:
                        type: string
                        maxLength: 35
                    required:
                      - Proprietary
                  PrivateIdentification:
                    type: object
                    properties:
                      DateAndPlaceOfBirth:
                        type: object
                        properties:
                          Birthdate:
                            type: string
                  ContactDetails:
                    type: object
                    properties:
                      MobileNumber:
                        type: string
              SchemeName:
                type: object
                properties:
                  Proprietary:
                    type: string
                    maxLength: 35
                required:
                  - Proprietary
              PrivateIdentification:
                type: object
                properties:
                  DateAndPlaceOfBirth:
                    type: object
                    properties:
                      Birthdate:
                        type: string
              ContactDetails:
                type: object
                properties:
                  MobileNumber:
                    type: string
                    pattern: '\+[0-9]{1,3}-[0-9()+\-]{1,30}'

  Error:
    type: 'object'
    properties:
      data:
        type: 'object'
        properties:
          error:
            type: 'string'
parameters:
  accept:
    in: header
    name: accept
    type: string
    required: true
  content-length:
    in: header
    name: content-length
    type: string
    required: true
  content-type:
    in: header
    name: content-type
    type: string
    required: true

